<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" type="text/css" href="css/style.min.css">
    <title>Wafer Edit</title>
  </head>
  <body>
    <div id="wrapper">
      <header>
        <a href="index.html">
          <img src="images/pu_logo.jpg" width="200" height="100" alt="Purdue University Logo">
          <img src="images/CMS_logo_col.png" width="100" height="100" alt="CMS Logo">
        </a>
      </header>
      <nav>
        <a href="partList.html">Part List</a>
        <br>
        <a href="newPart.html">New Part</a>
        <br>
        <a href="contact.html">Contact/Issues</a>
      </nav>
      <main>
        <h1 id="heading1"></h1>
        <button type="button" name="button" onclick="waferSummary()" class="button-primary">Wafer Summary</button>
        <h2>Misc Data</h2>
        <form action="php/waferEditProc.php" method="post" enctype="multipart/form-data">
          <div style="width:400px">
            <label for="name">Name</label>
            <input id="formName" type="text" name="name" style="float:right"><br><br>
            <label for="status">Status</label>
            <input id="formStatus" type="text" name="status" style="float:right"><br><br>
            <label for="vendor">Vendor</label>
            <input id="formVendor" type="text" name="vendor" style="float:right"><br><br>
            <label for="thickness">Thickness</label>
            <input id="formThickness" type="number" name="thickness" min="0" step="0.0001" style="float:right"><br><br>
          </div>
        </form>
      </main>
    </div>
    <script src="node_modules/jquery/dist/jquery.min.js" charset="utf-8"></script>
    <script type="text/javascript">
      var id = parent.document.URL.substring(parent.document.URL.indexOf('id=') + 3, parent.document.URL.length);
      $.ajax({ // Gets the data
        url: "php/getWaferData.php?id=" + id,
        success: parseData
      });
      function parseData(resp) {
        dbJSON = JSON.parse(resp);
        document.getElementById('heading1').innerHTML = "Edit " + dbJSON.name;
        document.getElementById('formName').placeholder = dbJSON.name;
        document.getElementById('formStatus').placeholder = dbJSON.status;
        document.getElementById('formVendor').placeholder = dbJSON.vendor;
        document.getElementById('formThickness').placeholder = dbJSON.thickness;
      }
      function waferSummary() {
        window.location = "waferSummary.html?id=" + id;
      }
    </script>
  </body>
</html>
